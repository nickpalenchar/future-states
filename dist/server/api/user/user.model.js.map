{"version":3,"sources":["../../../../server/api/user/user.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;AAEb,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;AACrE,IAAI,IAAI,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;;AAEzC,IAAI,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;AACnC,MAAI,EAAE,MAAM;AACZ,OAAK,EAAE,MAAM;AACb,UAAQ,EAAE,CAAC,EAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAC,CAAC;AACzD,QAAM,EAAE,OAAO;CAChB,CAAC,CAAC;;AAEH,UAAU,CAAC,OAAO,CAAC,gBAAgB,GAAG,YAAU;;;AAC9C,MAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CACV,IAAI,CAAC,UAAA,KAAK,EAAI;AACb,UAAK,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI;aAAI,IAAI,CAAC,GAAG;KAAA,CAAC,CAAC;AACzC,UAAK,YAAY,CAAC,UAAU,CAAC,CAAC;AAC9B,WAAO,MAAK,IAAI,EAAE,CAAC;GACpB,CAAC,CAAA;CACL,CAAA;;qBAEc,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC","file":"user.model.js","sourcesContent":["'use strict';\n\nvar mongoose = require('bluebird').promisifyAll(require('mongoose'));\nvar Todo = require('../todo/todo.model');\n\nvar UserSchema = new mongoose.Schema({\n  name: String,\n  email: String,\n  todoRefs: [{type: mongoose.Schema.ObjectId, ref: 'Todo'}],\n  active: Boolean\n});\n\nUserSchema.statics.assignEverything = function(){\n  Todo.find({})\n    .then(todos => {\n      this.todos = todos.map(todo => todo._id);\n      this.markModified('todoRefs');\n      return this.save();\n    })\n}\n\nexport default mongoose.model('User', UserSchema);\n"]}